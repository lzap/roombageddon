-- title:  game title
-- author: game developer
-- desc:   short description
-- script: lua

package.path = package.path .. ";./src/?.lua"

local SceneManager = require("scenes.scene_manager")
local IntroScene = require("scenes.intro")
local GameScene = require("scenes.game")

---@class GameGlobal
---@field SM SceneManager|{}

---@type GameGlobal
G = {
	---@type SceneManager|{}
	SM = {}
}

function BOOT()
	---@type IntroScene
	local intro = IntroScene:new {}
	---@type GameScene
	local game = GameScene:new {}

	---@type SceneManager
	G.SM = SceneManager:new {}
	G.SM:add("intro", intro)
	G.SM:add("game", game)
	G.SM:switch("intro")
end

function TIC()
	G.SM:update()
	G.SM:draw()
end

-- <TILES>
-- 001:ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
-- 002:cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
-- 016:ffffffffffff3ffffff33fffff3f3fffffff3fffffff3fffffffffffffffffff
-- 017:ffffffffff333fffff3f3fffff3f3ffffff3ffffff333fffffffffffffffffff
-- 018:ffffffffff333fffffff3ffffff33fffffff3fffff333fffffffffffffffffff
-- 019:ffffffffff3fffffff3fffffff333ffffff33fffffff3fffffff3fffffffffff
-- </TILES>

-- <SPRITES>
-- 000:0000007700000076065560750454477604454775065560760000007500000077
-- 001:0000007700000075065560760454477504454776065560750000007600000077
-- </SPRITES>

-- <MAP>
-- 007:000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 008:000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 009:000000000000000000000000101010101010010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </MAP>

-- <FLAGS>
-- 000:10000000000000000000000000000000204080010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </FLAGS>

-- <PALETTE>
-- 000:1a1c2c5d275db13e53ef7d57ffcd75a7f07038b76425717929366f3b5dc941a6f673eff7f4f4f494b0c2566c86333c57
-- </PALETTE>

